scalar EmailAdd
scalar URL
scalar Upload
directive @auth on FIELD_DEFINITION | FIELD

type Query{
    getUsers(filter: String):[User]!
    getProperties(filter: String):[Property]!
    getPropertyReviews(filter: String): [PropertyReview]!
    getReservations(filter: String): [Reservation]!

    getUserById(id:ID!): User!
    getPropertyById(id:ID!):Property!
    getPropertyReviewById(id:ID!): PropertyReview!
    getReservationById(id:ID!): Reservation!

    me: User! @auth
}

type Mutation{
    createUser(data:UserCreateInput): User!
    updateUser(data:UserUpdateInput): User! @auth
    deleteUser: String! @auth

    createProperty(data:PropertyCreateInput): Property!@auth
    updateProperty(id:ID!, data:PropertyUpdateInput): Property!@auth
    deleteProperty(id:ID!): Property!@auth

    createPropertyReview(data:PropertyReviewCreateInput): PropertyReview!@auth
    updatePropertyReview(id:ID!, data:PropertyReviewUpdateInput): PropertyReview!@auth
    deletePropertyReview(id:ID!): PropertyReview!@auth

    createReservation(data:ReservationCreateInput): Reservation!@auth
    updateReservation(id:ID!, data:ReservationUpdateInput): Reservation!@auth
    deleteReservation(id:ID!): Reservation!@auth

    login(email: EmailAdd!, password: String!): Auth!
}

type Property{
    _id: ID!
    title: String!
    price: String!
    address: String!
    location: String!
    photos: [String]
    description: String
    hostUser: User!
    punctuation: String
    reviews: [PropertyReview!]
    reservedBy: [Reservation]
    features: [String]
    services: [String]
    is_available: Boolean
    is_active: Boolean
}

type User{
    _id: ID!
    first_name: String!
    last_name: String!
    email: EmailAdd!
    password: String!
    profile_pic: String!
    hostCategory: String!
    languages: [String]!
    reviewsDone: [PropertyReview]!
    reservationsDone: [Reservation]!
    description: String!
    properties: [Property]!
    nationality: String!
    is_verified: Boolean!
    is_active: Boolean!
    is_guest: Boolean!
    is_host: Boolean!
    createdAt: String
}

type PropertyReview{
    _id: ID!
    user: User!
    property: Property!
    comment: String!
    is_active: Boolean
    createdAt: String
}

type Reservation{
    _id: ID!
    user: User!
    property: Property!
    is_active: Boolean
    createdAt: String
}

type Auth{
    token: String!
    message: String!
}

input UserCreateInput{
    first_name: String!
    last_name: String!
    email: EmailAdd!
    password: String!
    profile_pic: Upload
    hostCategory: String
    languages: [String]
    reviewsDone: [String]
    reservationsDone: [String]
    description: String
    properties: [String]
    nationality: String
    is_verified: Boolean
    is_active: Boolean
    is_guest: Boolean
    is_host: Boolean
}

input UserUpdateInput{
    first_name: String
    last_name: String
    email: EmailAdd
    password: String
    profile_pic: Upload
    hostCategory: String
    languages: [String]
    reviewsDone: [String]
    reservationsDone: [String]
    description: String
    properties: [String]
    nationality: String
    is_verified: Boolean
    is_active: Boolean
    is_guest: Boolean
    is_host: Boolean
}

input PropertyReviewCreateInput{
    property: String!
    comment: String!
    is_active: Boolean
}

input PropertyReviewUpdateInput{
    property: String
    comment: String
    is_active: Boolean
}

input ReservationCreateInput{
    property: String!
    comment: String!
    is_active: Boolean
}

input ReservationUpdateInput{
    property: String
    comment: String
    is_active: Boolean
}

input PropertyCreateInput{
    title: String!
    price: String!
    address: String!
    location: String!
    photos: [Upload]
    description: String
    punctuation: String
    reviews: [String]
    reservedBy: [String]
    features: [String]
    services: [String]
    is_available: Boolean
    is_active: Boolean
}

input PropertyUpdateInput{
    title: String
    price: String
    address: String
    location: String
    photos: [Upload]
    description: String
    punctuation: String
    reviews: [String]
    reservedBy: [String]
    features: [String]
    services: [String]
    is_available: Boolean
    is_active: Boolean
}
